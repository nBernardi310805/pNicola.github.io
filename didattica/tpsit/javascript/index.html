<!DOCTYPE html>
<html lang="it">
    <head>
        <title>JavaScript - Il Portale di Nicola</title>
        <meta charset="utf-8">
        <meta name="author" content="Nicola Bernardi">
        <meta name="description" content="In questa pagina esploreremo un linguaggio molto importante per arricchire i vostri siti web: il JavaScript.">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="icon" href="../../../favicon.png">
        <link rel="stylesheet" href="../../../css/core.css">
        <link rel="stylesheet" href="../../../css/dida.css">
        <link rel="stylesheet" href="../../../css/form.css">
        <script src="../../../js/altro.js"></script>
        <script src="../../../js/tpsit.js"></script>
        <meta name="keywords" content="il portale di nicola, portale nicola, portalenicola, c++, cpp, nicolabernardi, didattica, tpsit, appunti, crearesitoweb, creare un sito web">
        <script data-ad-client="ca-pub-9843209517750049" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
        <script src="../../../js/pageUtil.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JQNQS81SP0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-JQNQS81SP0');
</script>


    </head>
    <body>
        <header>
                
        </header>
        
       
        <section>
            <h1 id="ciao">Il Portale di Nicola</h1>
            <article>
                <h2 class="tit">JavaScript</h2>
            </article>
        </section>
        <div>
            <p id="what" onmouseenter="document.getElementById('what').innerText='Sì, il JavaScript è un linguaggio di programmazione'">JS è un linguaggio di programmazione?</p>
        </div>
        <section class="riq">
            <article> 
                <h3>Indice</h3>
                <ul>
                    <li><a href="#intro">Introduzione</a></li>
                    <li><a href="#cookies">I cookie</a></li>
                    <li><a href="#j_figlio">Il JSON</a></li>
                </ul>
            </article>
        </section>
        <section>
            <img id="cop1" src="../../../images/copp.png" alt="copertina">
                
                
                 
        </section>
        
        <h3 class="titPar" id="intro">Introduzione</h3>
        <h4>Cos'è il JavaScript e a cosa serve?</h4>
        <p><b>DISCLAMER: in questa pagina alle volte userò un linguaggio poco tecnico per spiegare meglio il concetto a tutti.</b></p>
        
        <p>JavaScript (o JS abbreviato) è un linguaggio di programmazione che si integra nelle pagine web.
            
        </p>
        <p><b>HTML è un linguaggio di programmazione?</b></p>
        <p>No, HTML è un linguaggio di markup, ovvero un linguaggio per strutturare e formattare le pagine web ed è utilizzato nelle mail. Non essendo un linguaggio di programmazione, 
            HTML non permette di creare pagine web "dinamiche". Non potrai mai creare un gioco solo avvalendoti del HTML perché esso è privo di <b>costrutti di controllo</b> 
            (ovvero la parte legata agli "if", "for", etc). È dunque importante imparare il JS per implementare nel proprio sito cose complesse come i giochi, le pagine dinamiche, ecc.
        </p>
        <p<b>Ma tu, utilizzi il JS nel Portale di Nicola?</b></p>
        <p>
            Certo, ad esempio tutte le parti dinamiche come gli easter eggs nel terminale della home page, la parte logica del <a href="../../../pannello/">Pannello di Controllo</a>, 
            Il contatore degli utenti nella home, il cambio del testo quando il mouse entra in un oggetto e tutto ciò che vedete nella pagina <a href="../../../interattivo/">Interattiva</a> è fatto col JavaScript.
        </p>


        <h3 class="titPar" id="cookies">I cookie</h3>
        <h4>Introduzione</h4>
        <p>I cookie servono per memorizzare alcune informazioni degli utenti direttamente nel loro browser. Questa tecnica di memorizzazione fa comodo alle aziende che non risparmiano spazio di archiviazione per i dati degli utenti e agli utenti stessi 
            che possono cancellarli in qualsiasi momento. 
        </p>
        <p><b>Ma se i cookie servono solo per memorizzare i dati degli utenti, tipo il carrello di amazon, perché è richiesto che l'utente accetti i cookie?</b></p>
        <p>
            Il problema della privacy degli utenti con i cookie è il fatto che esistano i cookie di terze parti. Esistono poi altri sistemi di memorizzazione dei dati degli utenti nel browser, come <code>localStorage</code> o <code>sessionStorage</code>. 
            Questi due sistemi non richiedono il banner di avviso agli utenti perché devono essere gestiti dal sito e non possono essere letti da siti come googleAdsense per la profilazione dell'utente.
        </p>
        <p><b>Tu utilizzi i cookie nel Portale?</b></p>
        <p>
            No, ho eliminato tutti i cookie, tranne quelli di Analytics che sono consentiti. Per tenere in memoria il colore della navbar personalizzata, il font, ecc. uso <code>localStorage</code>.
            LocalStorage ha una gestione simile ai cookie. La memorizzazione avviene in chiavi (<code>key</code>) e valore associato alla key. 
            Questo è un esempio della logica chiave valore:
        </p>
        <table>
            <th>/</th>
            <th>Key</th>
            <th>Value</th>
            <tbody>
                <tr>
                    <td>Username/Password</td>
                    <td>admin</td>
                    <td>password</td>
                </tr>
                <tr>
                    <td>Tipo dato / username e password in JSON</td>
                    <td>_users</td>
                    <td>{"username":"admin", "password": "password"}</td>
                </tr>
            </tbody>
        </table>

        <p>Il JSON è molto usato e molto comodo per i cookie e per memorizzare in una stringa un oggetto.</p>


        <h3 class="titPar" id="j_figlio">Il JSON</h3>
        <h4>Introduzione</h4>
        <p>Immaginate di dover memorizzare in un solo cookie o in localstorage le preferenze dell'utente rispetto ai cookie: 
            dovrete quindi tenere in memoria nel browser se l'utente ha accettato tutti i cookie, se li ha rifiutati tutti o se ha accettato parzialmente 
            (ad esempio, ha accettato i cookie di esperienza, ma ha rifiutato quelli di marketing). 
            Logicamente non possiamo fare un cookie per ciascuna spunta, diventerebbe molto scocciante gestirli uno a uno. 
            Ci viene in soccorso quindi il JSON.
        </p>
        <h4>Vantaggi del JSON:</h4>
        <ul>
            <li>Facile da leggere e da scrivere (anche per un essere umano);</li>
            <li>Compatibile con diversi linguaggi di programmazione;</li>
            <li>Sintassi semplice: JSON si basa su una struttura dati gerarchica basata su coppie chiave-valore;</li>
            <li>Altri vantaggi che in questo caso, a noi non interessano (come un peso minore rispetto all'XML o il supporto per le API web);</li>
        </ul>
        <h4>Il caso pratico</h4>
        <p>N.B. useremo localstorage per la memorizzazione delle preferenze, ma il JSON si applica perfettamente anche ai cookie.</p>
        <p>
            Supponiamo che noi dobbiamo gestire le 5 spunte dei cookie: <b>necessari</b> (che sarà sempre spuntata), <b>funzionalità</b>, <b>esperienza</b>, <b>misurazione</b> e <b>marketing</b>. 
            Quando l'utente confermerà le sue scelte dei cookie, noi controlleremo le varie spunte e le memorizzeremo in un oggetto chiamato "pref": (nel esempio sottostante, fingeremo che l'utente abbia rifiutato solo il marketing)
            <pre>
<code>
const PREF = {
    necessari: true,
    funzionalità: true,
    esperienza: true,
    misurazione: true,
    marketing: false
};
</code>
            </pre>
            Dobbiamo ora memorizzare le preferenze dell'utente in localstorage con la chiave "_pref". Procederemo nel seguente modo:

            <pre>
                <code>
const PREF_IN_JSON = JSON.stringify(PREF)
                </code>
            </pre>
            La costante PREF_IN_JSON avrà contenuto:
            <table>
                <tbody>
                    <tr>
                        <td>
                            {"necessari":true,"funzionalità":true,"esperienza":true,"misurazione":true,"marketing":false}
                        </td>
                    </tr>
                </tbody>
            </table>
            Ora memorizziamolo in localStorage:
            <pre>
                <code>
localStorage.setItem('_pref', PREF_IN_JSON)
                </code>
            </pre>
            Abbiamo quindi raggiunto il nostro obbiettivo. Possiamo poi recuperarci l'oggetto in questo modo:
            <pre>
                <code>
const PREF_IN_JSON = localStorage.getItem("_pref")
const PREF = JSON.parse(PREF_IN_JSON)
                </code>
            </pre>
        </p>
        <h4>Metodi principali JSON:</h4>
        <table>
            <tbody>
                <th>Metodo</th>
                <th>Cosa fa</th>
                <tr>
                    <td>JSON.stringify(*obj*)</td>
                    <td>Trasforma un oggetto JS in una stringa JSON</td>
                </tr>
                <tr>
                    <td>JSON.parse(*json string*)</td>
                    <td>Trasforma una stringa JSON in un oggetto JS.</td>
                </tr>
            </tbody>
        </table>


        <h3>Tra due settimane nuovo articolo su JS (o anche prima, dipende dal feedback che ricevo)</h3>
       <a href="../"><button>Torna a TPSIT</button></a>
        <footer>
            
        </footer>
    </body>
</html>
